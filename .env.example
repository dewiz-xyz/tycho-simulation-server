# Tycho API settings
TYCHO_URL=tycho-beta.propellerheads.xyz
TYCHO_API_KEY=your_api_key_here
# TVL thresholds are denominated in the chain's native token
TVL_THRESHOLD=300
# Optional: ratio for keep/remove threshold (remove = TVL_THRESHOLD * TVL_KEEP_RATIO)
TVL_KEEP_RATIO=0.2

# Server settings
PORT=3000
HOST=127.0.0.1

# Logging settings
RUST_LOG=info

# Quote & simulation timeouts (milliseconds)
# Max total time a quote can run before canceling outstanding pool sims
QUOTE_TIMEOUT_MS=50
# Per-pool watchdogs; native and VM can be tuned independently
POOL_TIMEOUT_NATIVE_MS=5
POOL_TIMEOUT_VM_MS=50
# Timeout for single-token refresh fallback when cache misses occur
TOKEN_REFRESH_TIMEOUT_MS=1000

# Simulation concurrency caps (global)
GLOBAL_NATIVE_SIM_CONCURRENCY=8000
GLOBAL_VM_SIM_CONCURRENCY=4000

# VM pool feeds (default false)
ENABLE_VM_POOLS=false

# Stream supervision defaults
STREAM_STALE_SECS=120
STREAM_MISSING_BLOCK_BURST=3
STREAM_MISSING_BLOCK_WINDOW_SECS=60
STREAM_ERROR_BURST=3
STREAM_ERROR_WINDOW_SECS=60
RESYNC_GRACE_SECS=60
STREAM_RESTART_BACKOFF_MIN_MS=500
STREAM_RESTART_BACKOFF_MAX_MS=30000
STREAM_RESTART_BACKOFF_JITTER_PCT=0.2
READINESS_STALE_SECS=120

# Optional allocator purge (jemalloc)
STREAM_MEM_PURGE=0

# Optional memory snapshots
STREAM_MEM_LOG=false
STREAM_MEM_LOG_MIN_NEW_PAIRS=1000
STREAM_MEM_LOG_MIN_INTERVAL_SECS=30

# Auction-aware cancellation
# How long (seconds) to suppress late QuoteUpdate for a canceled auction on a WS connection
CANCELLATION_TTL_SECS=10
# Feature flag to enable/disable auction cancellation behavior
ENABLE_AUCTION_CANCELLATION=true
